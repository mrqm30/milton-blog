/* /src/styles/global.css */
@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base{
  html,body{ @apply h-full; }
  body{
    background:var(--c-bg); color:var(--c-ink); @apply font-sans antialiased;
    position:relative; isolation:isolate;
  }
  /* grid técnico sutil */
  body::before{
    content:""; position:fixed; inset:0; z-index:-2; pointer-events:none;
    background:
      linear-gradient(to right, color-mix(in oklab, var(--c-border) 14%, transparent) 1px, transparent 1px) 0 0/ 24px 24px,
      linear-gradient(to bottom, color-mix(in oklab, var(--c-border) 14%, transparent) 1px, transparent 1px) 0 0/ 24px 24px;
    opacity:.22;
  }
  /* scanlines (CRT) muy suaves */
  body::after{
    content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
    background: repeating-linear-gradient(0deg,
      rgba(255,255,255,.06) 0px,
      rgba(255,255,255,.06) 1px,
      transparent 2px,
      transparent 3px);
    opacity:.07; mix-blend-mode:soft-light;
  }

  h1{ @apply font-extrabold tracking-tight; font-size:clamp(2rem,2.5vw+1rem,3.25rem); }
  h2{ @apply font-bold tracking-tight; font-size:clamp(1.5rem,1.2vw+1rem,2.25rem); }
  h3{ @apply text-xl font-semibold; }
  p{ @apply leading-7; }
  a{ @apply underline-offset-2; }
  :focus-visible{ outline:2px solid var(--neon); outline-offset:2px; }

  @media (prefers-reduced-motion: reduce){
    *{ animation:none !important; transition:none !important; }
  }
}

@layer components{
  .container-p{ @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8; }

  .surface{
    background:var(--surface); border:1px solid var(--hairline);
    border-radius:var(--radius); box-shadow:var(--shadow);
  }
  .glass{
    backdrop-filter:var(--blur);
    background:color-mix(in oklab, var(--surface) 70%, transparent);
    border:1px solid color-mix(in oklab, var(--c-border) 45%, transparent);
    border-radius:var(--r-sm);
  }

  /* avatar ring */
  .logo-ring{ border-radius:999px; box-shadow:0 0 0 2px var(--neon-weak); }

  /* botones con glow retro */
  .btn{ @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 no-underline transition;
    will-change: transform, opacity, box-shadow; }
  .btn-primary{ background: var(--c-accent); color:#fff; }
  .btn-primary:hover{ transform: translateY(-1px);
    box-shadow: 0 0 0 2px var(--neon-weak), 0 10px 20px rgba(0,0,0,.25); }
  .btn-ghost{ background: transparent; border:1px solid var(--hairline); color:var(--c-ink); }
  .btn-ghost:hover{ background: color-mix(in oklab, var(--c-accent-2) 12%, transparent); }

  .nav-pill{ @apply px-3 py-2 rounded-lg relative; }
  .nav-underline::after{
    content:""; position:absolute; left:10px; right:10px; bottom:4px; height:2px;
    background: var(--neon); box-shadow: 0 0 8px var(--neon);
    transform: scaleX(0); transform-origin:left; transition: transform .18s ease;
  }
  .nav-underline:hover::after, .nav-underline.is-active::after{ transform: scaleX(1); }

  .card{
    padding:1.25rem; border-radius:var(--radius);
    background:linear-gradient(var(--surface),var(--surface)) padding-box,
               var(--grad-1) border-box;
    border:1px solid transparent; box-shadow:var(--shadow);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  }
  .card:hover{
    transform: translateY(-2px);
    box-shadow: var(--shadow), 0 0 0 1px var(--neon-weak), 0 18px 40px rgba(0,0,0,.35);
  }

  .link-clean{ @apply no-underline; }
  .link-clean:hover{ text-decoration: underline; text-decoration-color: var(--neon); }

  .section-title{ position:relative; padding-left:1.5rem; }
  .section-title::before{
    content:"<"; position:absolute; left:0; top:-2px; color:var(--neon); text-shadow: 0 0 6px var(--neon);
  }
  .section-title::after{ content:">"; margin-left:.35rem; color:var(--neon); text-shadow: 0 0 6px var(--neon); }

  .timeline{ position:relative; padding-left:1.25rem; }
  .timeline::before{ content:""; position:absolute; left:6px; top:0; bottom:0; width:2px; background: var(--grad-1); }
  .dot{ position:absolute; left:-2px; width:10px; height:10px; border-radius:999px; background:var(--neon); box-shadow: 0 0 10px var(--neon); }

  .chip{
    @apply inline-flex items-center text-xs;
    padding: .25rem .5rem; border-radius:999px; border:1px solid var(--hairline);
    background: color-mix(in oklab, var(--c-accent-2) 10%, transparent);
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  }
}

/* === Hero tipo terminal === */
.terminal-window{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  background: var(--surface);
  border: 1px solid var(--hairline);
  border-radius: calc(var(--radius) + 2px);
  box-shadow: var(--shadow);
  overflow: hidden;
}
.term-header{
  display:flex; align-items:center; gap:8px;
  height: 36px; padding: 0 10px;
  background: color-mix(in oklab, var(--c-accent) 30%, transparent);
  border-bottom: 1px solid var(--hairline);
}
.term-dots{ display:flex; gap:6px; }
.term-dot{ width:10px; height:10px; border-radius:999px; opacity:.95; }
.term-dot.red{ background:#ff5f56; }
.term-dot.yellow{ background:#ffbd2e; }
.term-dot.green{ background:#27c93f; }
.term-title{ margin-left:8px; opacity:.8; font-size:.85rem; }

.term-body{ padding: 18px; }
.prompt{ display:flex; gap:10px; align-items:baseline; }
.prompt .ps{ color: var(--neon); }
.prompt code{ color: var(--c-ink); background: transparent; }

@keyframes blink { 50% { opacity: 0; } }
.cursor-blink{
  display:inline-block; width:8px; height:1em; translate:0 .2em;
  background: var(--neon); box-shadow: 0 0 8px var(--neon);
  animation: blink 1s step-end infinite;
}

.kicker{
  width: 160px; height: 10px; border-radius: 999px;
  background: var(--grad-1); margin: 0 auto 10px;
  box-shadow: 0 0 14px var(--neon-weak);
}

/* Logo: asegura que el alt no “rompa” el layout si la imagen no carga */
.logo-img{ width:28px; height:28px; display:block; }

/* Skip link para accesibilidad */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left:12px; top:12px; width:auto; height:auto; padding:.5rem .75rem;
  background:var(--surface); border:1px solid var(--hairline); border-radius:10px;
  z-index:9999;
}

/* Fondo más sutil */
body::before{ opacity:.16; }      /* grid */
body::after{ opacity:.05; }       /* scanlines */

/* Cards más ligeras */
.card{ box-shadow: 0 8px 24px rgba(0,0,0,.28); }
.card:hover{ box-shadow: 0 10px 32px rgba(0,0,0,.34), 0 0 0 1px var(--neon-weak); }

/* Nav: reduce altura visual (menos “alto”) */
.glass{ padding-top:.35rem; padding-bottom:.35rem; }

/* Títulos con tracking un pelín menor en hero */
h1{ letter-spacing:-0.015em; }

