@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base{
  html,body{ @apply h-full; }
  body{ background:var(--c-bg); color:var(--c-ink); @apply font-sans antialiased; }

  /* Tipografía fluida y sobria */
  h1{ @apply font-extrabold tracking-tight; font-size:clamp(2rem,2.5vw+1rem,3.25rem); }
  h2{ @apply font-bold tracking-tight; font-size:clamp(1.5rem,1.2vw+1rem,2.25rem); }
  h3{ @apply text-xl font-semibold; }
  p{ @apply leading-7; }
  a{ @apply underline-offset-2; }
  :focus-visible{ outline:2px solid var(--c-accent); outline-offset:2px; }

  /* Respeto a reduce-motion */
  @media (prefers-reduced-motion: reduce){
    *{ animation:none !important; transition:none !important; }
  }
}

@layer components{
  /* Contenedor ancho moderado */
  .container-p{ @apply max-w-6xl mx-auto px-4 sm:px-6 lg:px-8; }

  /* Superficies y glass */
  .surface{ background:var(--surface); border:1px solid var(--hairline);
    border-radius:var(--radius); box-shadow:var(--shadow); }
  .glass{
    backdrop-filter:var(--blur);
    background:color-mix(in oklab,var(--surface) 70%, transparent);
    border:1px solid color-mix(in oklab,var(--c-border) 45%, transparent);
    border-radius:var(--r-sm);
  }

  /* Botones */
  .btn{ @apply inline-flex items-center gap-2 rounded-xl px-4 py-2 no-underline transition;
    will-change: transform, opacity; }
  .btn-primary{ background:var(--c-accent); color:#fff; }
  .btn-primary:hover{ transform:translateY(-1px); opacity:.95; }
  .btn-ghost{ background:transparent; border:1px solid var(--hairline); color:var(--c-ink); }
  .btn-ghost:hover{ background:color-mix(in oklab,var(--c-accent-2) 15%, transparent); }

  /* Tarjeta “borde degradado” moderna */
  .card{
    padding:1.25rem; border-radius:var(--radius);
    background:
      linear-gradient(var(--surface),var(--surface)) padding-box,
      var(--grad-1) border-box;
    border:1px solid transparent; box-shadow:var(--shadow);
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  }
  .card:hover{ transform:translateY(-2px); box-shadow:var(--shadow), 0 18px 40px rgba(9,27,41,.12); }

  /* Enlaces “limpios” con subrayado al hover */
  .link-clean{ @apply no-underline; }
  .link-clean:hover{ text-decoration:underline; }

  /* Nav pills + subrayado animado */
  .nav-pill{ @apply px-3 py-2 rounded-lg relative; }
  .nav-underline::after{
    content:""; position:absolute; left:8px; right:8px; bottom:4px;
    height:2px; background:var(--grad-1); transform:scaleX(0);
    transform-origin:left; transition:transform .18s ease;
  }
  .nav-underline:hover::after, .nav-underline.is-active::after{ transform:scaleX(1); }

  /* Sección con barra vertical suave */
  .section-title{ position:relative; padding-left:.9rem; }
  .section-title::before{
    content:""; position:absolute; left:0; top:.25rem; bottom:.25rem; width:4px;
    border-radius:999px; background:var(--grad-1);
  }

  /* Timeline con gradiente vertical */
  .timeline{ position:relative; padding-left:1.25rem; }
  .timeline::before{ content:""; position:absolute; left:6px; top:0; bottom:0; width:2px; background:var(--grad-1); }
  .dot{ position:absolute; left:-2px; width:10px; height:10px; border-radius:999px; background:var(--c-accent);
        box-shadow:0 0 0 4px color-mix(in oklab,var(--c-accent) 20%, transparent); }
}
